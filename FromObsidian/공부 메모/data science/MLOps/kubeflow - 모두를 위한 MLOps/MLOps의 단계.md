- 요약
- 0단계 : 수동 프로세스
	- 모델 중심의 배포
	- 개발 환경과 배포 환경이 다를 수 있음 
	- 모델이 복잡할수록 소통이 어려워지고 빠른 배포가 어렵게 됨

-  1단계 : ML 파이프라인 자동화
	- `컨테이너`를 이용해 모델 개발에 사용된 것과 동일한 실행 환경을 보장한다.
	- `Auto Retrain` + `Auto Deploy`로 `Continuous Training`을 구현한다.
		- `Auto Retrain` : 데이터의 분포가 바뀜에 따라 모델을 다시 학습하는 것
		- `Auto Deploy` : 모델 등의 메타데이터를 이용해 이전에 들어온 데이터는 이전 모델로 처리하는 것

-  2단계 : CI / CD 파이프라인 자동화
	- CI/CD(정상적인 학습 & 동작)을 할 조건은, 파이썬의 버전 변경 & 패키지의 버전 변경 등이 있다.
-------------
- 구글에서는 2015년부터 MLOps의 중요성을 얘기했다. `Hidden Technical Debt in Machine Learning`이 그 논문이다.

- 구글은 MLOps의 단계를 총 3단계(0~2)로 나눴다.

## 0단계 : 수동 프로세스
- ML팀과 운영팀은 `모델`을 통해 소통한다.
	- ML팀은 데이터로 모델을 학습, 운영팀에 모델을 전달한다.
	- 운영팀은 모델을 배포한다.
- `모델 중심의 배포 방식`은 여러 문제가 있다.
	- 예를 들면 어떤 기능에서는 파이썬 3.7을, 다른 기능에선 파이썬 3.8을 쓴다고 할 경우다.
- `머신러닝 모델`이 동작하기 위해선 3가지가 필요하다.
	- 파이썬 코드
	- 학습된 가중치
	- 환경(패키지, 버전 등)
- 관리하는 기능이 많아지고 소통이 어려워진다면 성능이 더 좋은 모델을 빠르게 배포할 수 없게 된다.

## 1단계 : ML 파이프라인 자동화
- MLOps에서는 `파이프라인Pipeline`을 이용해 이런 문제를 방지하고자 했다.
	- `도커`와 같은 컨테이너를 이용해 모델 개발에 사용한 것과 동일한 환경으로 동작되는 것을 보장한다.
	- `파이프라인` : 범용적인 용어로, ML 엔지니어에 대해서는 학습된 모델을 생산하는 파이프라인을 의미한다.

### Continuous Training(CT)
- `자동 재학습Auto Retrain` :  실무에서는 데이터가 쌓이면서 데이터의 분포가 계속해서 변한다. 따라서 과거에 학습한 모델의 성능이 시간이 지나면서 저하되는데, 이를 해결하기 위한 방법은 `최근 데이터를 이용해 모델을 다시 학습`하는 것이다.
- `자동 배포Auto Deploy` 
	- `blind spot` : 무조건 재학습을 하는 것은 좋지 않다.
		- 예시 ) 차량모델 A에 대해서 예측모델 a를 만들고 이를 이용해 예측을 진행하고 있다고 하자 -> 근데 차량모델 B로 인풋이 바뀐다면, 이전에 보지 못했던 패턴이기 떄문에 B에 대한 새로운 학습을 진행한다. 
		- 여기서 다시 차량모델A로 인풋을 바꾼다면, `Auto Retrain`만 있다면 `기존 데이터가 있음에도 재학습을 하기 때문에 데이터가 모이는 동안 정상적으로 동작하지 않는 구간이 발생`한다.
		- 즉 `Blind Spot`은 데이터를 모으기 위해 모델이 동작하지 않는 구간을 의미한다.
	- `Blind Spot`을 해결하는 방법은, 이전에 같은 인풋이 들어온 적이 있는지 확인하고, 있다면 `이전 모델을 이용`해 다시 예측을 할 수 있다.
	- 이렇게 **모델 등의 메타 데이터를 이용해 모델을 자동으로 변환**하는 것을 `Auto Deploy`라고 한다.

## 2단계 : CI/CD 파이프라인 자동화
- 모델 학습 시 영향이 있는 변화에 대해 확인할 것
	- `CI` : 모델이 정상적으로 학습되는가
	- `CD` : 모델이 정상적으로 동작하는가
- 따라서 학습을 하는 코드에 직접적인 수정이 있다면 CI/CD를 진행해야 한다.
- 이외에도 사용하는 패키지의 버전, 파이썬의 버전 변경 등도 CI/CD 등의 대상이다. 
- ML의 대부분은 오픈 소스이며, 그 특성상 함수의 내부 로직이 크게 변하는 경우도 있기 때문에 버전이 바뀌는 경우에 CI/CD를 진행해야 한다.