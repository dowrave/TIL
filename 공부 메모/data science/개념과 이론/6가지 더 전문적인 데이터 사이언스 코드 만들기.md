### 가장 중요한 건 재사용 가능
- 재사용 가능이란? 
	- 어떤 시점에서는 1번 이상 재사용되는 코드를 작성하게 될 것이다.
	- 이는 전처리 파이프라인이나, 모델 비교에 사용하는 평가 기술 제품군이 있을 수 있다.
	- 잘 작성된 코드를 재사용하는 건 속임수나 느슨한 게 아니고 시간을 효율적으로 사용하는 것이다.

### 1. Modular
- 코드는 **1줄에 1개씩 작고 독립적인 기능을 수행**한다. 
```python
# define a function
def find_most_common(values): # function name / one value
    list_counts = collections.Counter(values)
    most_common_values = list_counts.most_common(1)

    return(most_common_values[0][0])

# use the function
find_most_common([1, 2, 2, 3])
```
- `함수`를 사용하는 것을 추천함(`객체 지향 프로그래밍 개념인 클래스보다도!`)
	- `함수형 프로그래밍` : 별도의 함수를 정의해서 `main()` 함수에서 데이터의 변형이 일어나는 게 아니라 해당 함수에서 데이터의 변형이 일어나게 함
	- 이걸 추천하는 이유는, 파이프라인에 여러 개의 함수를 꽂으면 되기 때문임
```python
cleaned_df = (
    pd.read_excel('dirty_data.xlsx')
    .clean_names()
    .remove_empty()
    .rename_column("full_time_", "full_time")
    .convert_excel_date("hire_date")
)
cleaned_df
```
- 메서드의 기능을 알기 쉽다는 것과 이들을 연결하기 쉽다는 2가지 장점이 있음.

### 2. Correct
- 코드가 계획한 대로 수행되었는가를 체크하는 것.
- `코드 리뷰`가 이를 수행하는 1가지 방법이다.
	- `코드 리뷰` : 동료가 코드를 생각한 대로 작동하는지 확인하는 프로세스
- 코드 리뷰를 항상 수행할 수는 없다 : 통계나 ML 백그라운드가 있는 사람이 내가 유일할 수 있기 떄문이다.
- 이런 경우 `테스트`를 수행할 수 있다.
```python
import collections

def find_most_common(values):
    """"Return the value of the most common item in a list"""
    list_counts = collections.Counter(values)
    top_two_values = list_counts.most_common(2)

	# 테스트 부분 : 
	# assert는 무언가가 사실인지 확인하는 파이썬 내장 메소드이다.
	# assert 문이 True라면 아무 일도 일어나지 않고
	# assert 문이 False라면 해당 문장이 수행된다.
    # make sure we don't have a tie for most common
    assert top_two_values[0][1] != top_two_values[1][1]\
        ,"There's a tie for most common value"
    
    return(top_two_values[0][0])
```
- 테스트는 문제가 발생하기 전에 버그를 찾는 데 도움이 될 수 있다.
	- 라이브러리가 업데이트되는 경우 우리가 가져오는 코드가 변경될 수 있기 때문에 이를 테스트해보는 것은 매우 중요하다. 

### 3. Readable
- 처음 보더라도 쉽게 읽을 수 있는가?
- `변수, 함수` **이름이 수행하는 작업을 설명하는 단어가 많을수록 읽기 쉬워진다.**
	- 주석 또한 도움이 될 수 있다.

<읽기 어려운 예시>
1. 변수 이름
	- `단일 글자 : x, q 등` (예외 : 인덱스의 `i`, x축의 `x`)
	- `모두 소문자 & 공백 없음` `likethisexample`, `somedatafromsomewhere`
	- `이름이 정보를 제공하지 않는 경우` `data2`, `data1`
	--> 다음 규칙으로 개선할 수 있다.
		- `snake_case`, `camelCase` 등 단어를 구분할 수 있는 공백(`_`)이나 대문자
		-  함수나 변수가 **어떤 역할을 하는지 묘사하는 이름**을 쓸 것
2. 주석
	- 일부 가이드가 **주석에 "코드가 실행하는 작업 정보를 쓰지 말 것"을 권장**하긴 한다.
	- 근데 데이터 사이언스 분야에서는  그래도 되는 경우가 있다.
		1. **새로운 방법이나 모델링을 적용한 경우, 레퍼런스 링크**를 주석으로 달아둘 수 있다.
		2. **Python이나 R을 모르는 동료**가 있을 수도 있다.
	- **코드를 바꿨다면, 주석도 바꾸자!**
	- 나중에 코드를 업데이트를 할 때 문제가 발생할 경우를 대비해 주석을 추가해둘 수도 있다.
	- 여러 언어를 사용하는 사람들이 함께 작업한다면, 모든 사람이 이해하기 가장 쉬운 언어로 주석을 작성한다.(꼭 영어일 필요는 없다!)
	- `docstring` : `"""이 주석을 얘기하는 거임"""`

### 4. Stylish
- 특정 스타일을 따른다 : 스타일 가이드를 따르면 코드를 더 쉽게 읽을 수 있고, 일반적인 실수를 피할 수 있다.
	- 스타일 가이드는 공백을 둘 곳, 코드 구조 구성법, 파일이나 함수 이름 지정법 등에 대한 지침을 제공한다.
	- 실제로 `linter`라는 프로그램이 있어 코드가 특정 스타일 가이드를 따르는지 확인할 수 있다.
		- `Python`용에는 `Pylint`가 있다.
	- 예를 들면,
		- `import`는 코드 파일의 맨 위에 있어야 하고, 한 줄에 하나만 가져와야 한다.
		- 탭과 공백을 함께 쓰면 안된다.
		- 줄 끝에 공백을 두면 안된다.
		- 함수, 변수 이름은 모두 소문자이며 `_`로 단어를 구분해야 한다.
		- 코드 각 줄은 80자 미만으로 유지하라

### 5. Versatile
- 다양한 상황에서 유용할 수 있는가 : 2번 이상 발생할 문제를 해결하고, 데이터의 변동을 예상한다.
- 데이터 과학자는 다양한 일을 할 줄 알아야 하기 떄문에, 작성하는 모든 코드를 주의 깊게 연마하는 것보다 시간을 더 잘 활용해야 한다.
- 데이터의 변동 예측 
	- ex) 데이터프레임에 `latitude`라는 열이 있다고 가정하는 함수를 작성했을 때, 누가 `latitude`를 `lat`으로 바꾸면 코드가 손상될 수 있다.
- `데이터 유효성 검사`를 사용할 수 있다.  일부 도구를 소개하면
	- `csvvalidator` 패키지가 있다. 링크에 설명 있음.
	- `Cereberus Module`도 `JSON` 을 읽을 때 인기 있는 툴이다.
	- `Missingno Package`는 누락된 데이터를 시각화할 때 유용하다.
	- `Python-magic Module`은 파일 유형을 확인할 때 도움이 된다. 

### 6. Creative
- 해결되지 않은 문제를 해결하거나, 기존 솔루션보다 분명히 개선된 코드를 의미한다.
- 이를 포함한 이유는, **기존 라이브러리나 모듈, 캐글 스크립트 등이 이미 문제를 해결하기 위해 작성되었을 가능성이 있고, 이를 찾아볼 필요가 있기 때문**이다.
	- 예를 들면 `flashtext`라는 파이썬 라이브러리가 있다. 이는 `정규식`으로 하는 것과 같은 일을 할 수 있게 하는데, **훨-씬 빠르다.**