## 230901
- 멀고도 험하다. `krBERT`를 `Tensorflow 2.X` 버전에서 실행하기..

### 이슈
1. `learning_rate`를 `optimization.create_optimizer`에서 인식하지 못하는 이슈

- 이해가 안 가는 상황이다.
```python
# main.py
import tensorflow as tf

lr = 5e-5
print(lr) # 5e-05

tensor = tf.compat.v1.constant(value = lr, shape = [], dtype = tf.compat.v1.float32)
print(tensor) # tf.Tensor(5e-05, shape=(), dtype=float32)
```

- 위 상황에서, lr 값을 `optimization.py`에 전달한 다음 아래 함수에 전달하는 상황임.
```python
# optimization.py
import tensorflow.compat.v1 as tf
import tensorflow
from tensorflow import keras

def create_optimizer(loss, init_lr, num_train_steps, num_warmup_steps, use_tpu):
  """Creates an optimizer training op."""
  global_step = tf.train.get_or_create_global_step()

  print("init_lr : ", init_lr)
  learning_rate = tf.constant(value=init_lr, shape=[], dtype=tf.float32)

  print("tensor : ", learning_rate)

  # Implements linear decay of the learning rate.
  learning_rate = tf.train.polynomial_decay(
      learning_rate,
      global_step,
      num_train_steps,
      end_learning_rate=0.0,
      power=1.0,
      cycle=False)
    
  print("polynomial_decay : ", learning_rate)

# ....
```

- 근데 여기서 `main.py`에서 `init_lr` 값을 `5e-5`로 전달했을 때,
```python
  print("init_lr : ", init_lr) # 5e-05
  print("tensor : ", learning_rate) # Tensor("Const:0", shape=(), dtype=float32)
  print("polynomial_decay : ", learning_rate) # Tensor("PolynomialDecay:0", shape=(), dtype=float32)

```
- 왜 이렇게 나오는지 모르겠음.

