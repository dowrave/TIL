
## 메쉬 제작
- 센세의 경우 **메쉬를 만들 때 아랫부분과 윗 부분을 합치지 않았다.** 즉 `NukeBottom`과 `NukeTop`이 분리된 형태임.

![[Pasted image 20250912160900.png]]
- 똑같이 이런 형태의 2개의 메쉬를 만든다.

> 어떤 버텍스들을 잡고 다른 오브젝트로 분리시키고 싶다면 `우클릭 - Separate - Selection`으로 할 수 있다. 위 예시에선 아래 메쉬의 가장 위에 있는 원의 버텍스들을 잡고 `Separate`했음.

> 여기서 주의할 점) 위 메쉬의 가장 꼭짓점은 실제로는 여러 버텍스가 가운데로 모인 모양임. **즉 가운데에 있는 버텍스는 1개가 아님.** 이 구현은 단순하게 버텍스들을 잡고 `S - 0 - Enter`로 가능.

> 아래 방법은 모든 면이 사각형일 떄 사용할 수 있는 방법임

1) `Unwrap - Lightmap Pack`으로 UV Map을 얻음
![[Pasted image 20250912161049.png]]

2) 그리고 이 상태에서 **3D 뷰포트에서 면 하나를 잡고** 다시 `Unwrap - Folow Active Quads(설정 : Even - 모든 면 균일)`을 누르면

![[Pasted image 20250912163951.png]]
-> 스케일을 좀 만지긴 했지만 이런 깔끔한 형태를 얻을 수 있음.

> [!tip]
> 참고1) **`Extrude`할 때 스케일 같은 거 조절하다가 다시 우클릭해서 처음으로 되돌리는 상황이 종종 있는데, 이 때에도 `Extrude`한 결과물 자체는 유지된다 -> 그래서 `Edge`가 겹쳐져 있는 상황이 꽤 자주 나오니까 주의할 것**
> - 위에서 메쉬 찍은 거에도 그런 게 있었고, 그것들을 전부 제거하니까 아래의 UV 처럼 깔끔하게 나왔음.
> 
> 참고2) **`Follow Active Quads`를 할 때는 면을 어떤 걸 잡냐에 따라 `UV Map`에 `Unwrap`되는 형태가 달라진다.** 가급적 깔끔한 사각형인 면을 잡아야 한다.
> 
> 참고 3) `Origin` 설정은 두 메쉬 각각에 따로 해주고, `Export`할 때는 두 메쉬를 모두 잡은 상태에서 `FBX` 파일로 내보내면 된다. 파일 하나에 2개의 메쉬가 들어가는 형태임. 유니티에선 `FBX` 파일이 아니라 그 안의 메쉬 파일을 가져온다.
## 애니메이션
- 전체적으로 짧은 타이밍에 확 증가한 다음 나머지 시간 동안 서서히 증가하는 형태.
- Z축(높이)에 대해서만 스케일을 조금 더 크게 잡아준다. 

## 셰이더

### 폭발 효과

![[Pasted image 20250912171054.png]]
1. `UV + (Time * Noise Speed)` -> `Simple Noise`
2. 거기에 `NoiseScale`을 더해서 `Posterize`에 전달한다.

> 노이즈가 흐르는 텍스쳐를 만들 때 특히 **UV를 더하는** 1번의 구조를 잘 기억해두자. `Tiling And Offset`을 써도 되긴 하겠지만.

위 구조를 하나 더 만들어서 노이즈의 방향을 다르게 하고, 2개의 Simple Noise를 곱해서 `Posterize`의 `In`에 전달시키면 됨.

![[VFX_Explosion_Noise.gif]]

`Scale`을 잘 만지면 이런 구조가 나온다.

폭발 이펙트, 즉 연기 등에 의한 요철도 구현할 수 있다. 
![[Pasted image 20250912172540.png]]
> 노이즈에서 밝은 부분은 값을 가졌으니까 이를 노말 벡터로 해서 가중치를 곱해서 각 위치에 더하는 방식이다. 위 `Add`는 마스터 노드의 `Position`에 연결됨.

다만 메쉬의 형태에 따라

![[Pasted image 20250912172718.png]]
이런 식으로 나타날 수 있음. 이건 **블렌더에서 `Shade Smooth`로 해결**할 수 있다.

![[VFX_Explosion_Offset.gif]]
> 이런 식으로 노이즈가 있는 부분만 밝아지고, 메쉬의 기본 위치보다 더 바깥쪽에 나타나게끔 구현된다.

### 추가 효과

1. 윗부분만 더 밝게 하기
![[Pasted image 20250912180129.png]]
UV 채널의 V 채널 부분에 `Power`을 적용, 위로 갈수록 더 밝아지게 하는 원리다.

### 문제 발생 및 해결

> 여기서 눈에 띄는 문제가 하나 생겼는데

![[Pasted image 20250912180340.png]]

이런 식으로 내 프로젝트에서 사용할 때에는 눈에 가장 띄는 부분에 메쉬가 들리는 현상이 생겼음.

강의에서는 Posterize 후에 `Add`를 해서 위의 밝은 부분을 연결한 다음, 그것의 아웃풋을 위치 + 색상 노드에 동시에 전달하는 방식을 이용했는데, 내 경우는 커스텀을 줬다.

#### 내 커스텀
![[Pasted image 20250912180512.png]]
> 1. 위치 노드에는 `Posterize `인 채로 전달한다. 앞에서 적용한 V 채널에서 노이즈를 빼서 윗부분으로 갈수록 값이 0이 되도록 구현함.
> 2. 이렇게만 하면 값이 0 이하인 경우도 생기기 떄문에 다른 방향으로 이격이 발생할 수 있다. 그래서 `Clamp`로 값을 0~1사이로 고정해준다.
> 3. 이 결과값을 `Multiply`에 전달함.
> 4. 한편, 위가 밝아지는 부분은 `색상`에만 전달하고 `위치`에는 전달하지 않음.

![[Pasted image 20250912180646.png]]
살짝살짝 보이기는 하는데 그래도 개선되었다고 생각해서 이렇게만 하고 넘어가겠음.

밥 먹고 마저 한다.

#### 문제2) 아랫부분의 바깥에 정체불명의 검은 원
- `UV Map`이 정확하게 바닥면에 일치하지 않아서 발생하는 문제로 보임
- `UV Map`을 수정해서 다시 넣었더니 잘 반영됨.

- 이외에도 `ShockWave`, `Particles` 등등 기호에 맞게 넣어주면 됨.

