
## 260216 - 짭명방

>[!done]
>- 소리 추가 및 수정
>	- `Slash01` 추가
>	- `FrozenArrowImpact01`, `BowFire01` : 볼륨 낮춤
>	- `Throwing01` 파일 변경
>	- `FireHit01`
>	- `MeleeImpact01` - 기존 `MeleeAttackHit01`은 제거
>- 사운드 & 유니티 & 컴퓨터 공부
>- 기타 버그 수정
>	- `BGM, SFX` 볼륨 설정이 제대로 `PlayerPrefs`에 반영되지 않은 현상

### 현재 없는 소리 파악
- `MeleeAttackSlash`
- `MeleeAttackHit`
	- **`MeleeAttack`을 휘두르는 소리는 안 넣음 - 현재 로직은 공격이 발생한 동시에 대미지가 들어가기 때문임**
- `MeteorSkill`- `MeteorHit`
- `Enemy(Ranged)` - `RangedHit`
- `ArcaneSkill` - `RangedHit`(번개에 어울리는 소리)
- `Medic` - `RangedHit`
- `Boss` 관련 스킬 사운드
- `Guard` - `SlashSkill`

### 오디오 추가
- **`Soundly`라는 SFX 라이브러리**가 있다. 
- 무료 폴더 중에서도 퀄리티가 괜찮은 것들이 많아 보임.
	- 재가공해서 파일 자체를 다시 유포하는 상황만 아니면 `Free`의 경우 사용 가능하다고 함
	- `Throwing01` 수정 - 더 짧고 작은 소리
	- `Slash01`

- `FireHit01`
	- `EnemyRanged`의 타격음
	- `Soundly`에서 2초짜리 효과음이 있다. 
	- `FL Studio`의 `Edison`에서 `Time Stretch ...`를 클릭하면
![[Pasted image 20260216195920.png]]
> 위 설정들을 건드려주면 텍스쳐는 유지하면서 길이만 줄일 수 있다. 되게 강력한 기능인 듯.

### 오디오는 결국 체감이 중요함
- `peak dBFS, LUFS` 등 **데이터가 비슷하더라도 어떤 소리는 크게 들리고 어떤 소리는 작게 들리는 현상이 있음**
- 주파수, 어택, 스펙트럼, 마스킹 등등 기여하는 요소가 많음
- 그래서 **결국은 귀로 듣고 판단해야 함**
- `Slash01` vs `FrozenArrowImpact01, BowFire01` 등에서 그 체감이 크게 됨
	- 뒤의 2개는 2dB 정도 낮췄는데도 여전히 소리가 크다. 
	- 앞의 `Slash01`은 너무 체감이 안된다. 


### 오디오를 비롯한 이것저것 공부
- `Claude`는 공부할 때도 좋겠다. 필수로 알아둬야 할 것들 물어보니까 쫙 나열하고, 그것들 관련해서 공부하고 싶다니까 뭘 알고 모르는지부터 물어본 다음, 모르는 것들만 설명해준다.

- [[오디오 - Sample Rate, Bit Depth]]
	- `Sample Rate` : 연속적인 소리를 1초 동안 몇 번 쪼갤 것인가
		- `44100hz`가 게임 표준, `48000hz`은 영상 표준
	- `Bit Depth` : 각 측정값을 얼마나 정밀하게 기록하는가?, 다이내믹 레인지와 관련
		- 제작은 `24bit`, 사용은 `16bit`
- [[오디오 - wav, mp3, ogg]]
	- `wav`는 무손실, 나머지는 손실 압축
	- 유니티는 `import`시에 자체 포맷을 쓴다.
	- 작업은 `wav`로 통일하고 유니티 내부에서 `Load Type`으로 결정함
- [[유니티 - Audio Mixer]]
	- `Audio Mixer` 자체는 애셋 파일을 지칭
	- `AudioSource`에서 `Audio Mixer Group`에 연결, 그룹 단위로 조절할 수 있음
	- `Snapshot` : 믹서 세팅 프리셋. 미리 만들어 둔 다음 기본 -> 전투 -> 수중 같이 인게임에서 바로바로 전환할 수 있음.
- [[유니티 - 오디오 Load Type]]
	- `Decompress On Load` : 짧은 효과음
	- `Compressed In Memory` : 중간 길이 음원(캐릭터 보이스)
		- `Streaming`으로 처리하지 않음. I/O가 발생하므로 여러 개가 동시에 발생한다면 지연/끊김이 발생할 수 있다.
	- `Streaming` : 긴 배경음악
- [[유니티 - 2D, 3D Sound]]
	- 지금 프로젝트에서는 2D Sound로 충분해 보임
	- `Audio Source - Spatial Blend` 값으로 결정되며, 중간값도 설정 가능
	- 3D Sound는 `Min, Max Distance`가 중요함 
- [[컴퓨터 - 처리 속도 차이]]

### 기타 버그 수정
- 볼륨을 수정한 상태로 스테이지에 진입했다가 다시 메인메뉴로 나왔을 때 `BGM, SFX` 값이 다시 1로 돌아가는 버그
	- 오타 이슈였다. `SetBGMVolume`으로 써놓고 `SFX`에 저장하고 있었음. 
	- 이런 휴먼 에러를 보면 AI로 코드 짜는 게 마렵긴 하다.
