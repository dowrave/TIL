## 참고
- **옵시디언으로 봐야 멀쩡하게 보임!!!**
- **옵시디언으로 작성된 만큼 깃허브의 마크다운에서는 지원하지 않는 기능들이 있을 수 있다.** `[[]]`, 이미지 첨부 방식 등이 대표적.
- `[[]]` 링크는 `유니티 - 보관함`이나 `일지`에 대부분 있다.

## 블로그
- 데이터가 제때 수집되고 있는지 눈팅 정도만 하면 충분할 것 같다.
- 사실 Quill을 쓰면서 되돌리기 / 붙여넣기 기능이 좀 이상하게 작동하고 있는 문제가 있긴 한데... 언제 해결할지는 모르겠음?

## 작업 예정

### 유사 명방(전체)
#### 구현 예정
- 스킬 (오퍼레이터마다 2개씩)
- 캐릭터 스프라이트 (이건 못하지 않을까 싶다)
- 스테이지 1-1 ~ 1-3 구현
> - `OperatorSelectPanel.LeftArea`의 하단 부분은 나중에 스킬 등록하는 부분으로 만들 거임

#### 발생 중인 이슈
- `StageData`의 `Spawner`들 관리하는 거
- (241216) 레벨업 후에 `OperatorLevelUpPanel`의 스냅핑 동작이 정상적으로 동작하지 않을 때가 있다. 

- 간헐적인 문제
	-  `Enemy` 기준, 바리케이드 파괴 로직이 동작하지 않는 현상이 있음

# 1월

## 250106
### 짭명방
- 현재 1정예화 스킬은 가드랑 디펜더에게만 있음

#### 1정예화 스킬 구상
- 뱅가드
	- 팽 세부직군의 2스킬 느낌? : 수동 발동, 코스트 증가, 버프 효과?
	- 아니면 텍사스처럼 특정 범위에 광역 스턴 + 대미지 + 코스트 증가?
- 캐스터
	- 액티브 발동
		- 안 1) 범위 도트 딜?
		- 안 2) 범위 일발성 광역 뎀?
- 스나이퍼 
	- 발동 시 특정 시간 동안 n%의 공격력으로 2회 타격
- 메딕
	- 안 1) 스택형, 스킬 사용 시 1회성 광역 즉발 힐
	- 안 2) 스킬 사용 시 지속 시간동안 광역 힐

### 스나이퍼 2스킬 구현
- `DoubleShotSkill.cs` 구현
	- 스킬 지속시간동안 `x%`의 공격력으로 2회 공격함

- 그냥 구현하면 기본 `Operator.cs`의, `Update`에서 `Attack` 메서드와의 충돌이 발생할 것 같음
- 더블샷 개념은 아래처럼 구현한다.
```cs
private IEnumerator PerformDoubleShot(Operator op)
{
	UnitEntity target = op.CurrentTarget;
	float modifiedDamage = op.AttackPower * damageMultiplier;

	op.Attack(target, modifiedDamage);
	yield return new WaitForSeconds(delayBetweenShots);

	if (target != null && !target.Equals(null))
	{
		op.Attack(target, modifiedDamage);
		yield return new WaitForSeconds(1f / op.AttackSpeed);
	}
}
```
> 일단은 이렇게 구현해놓으니 잘 동작했음. 더블샷 사이의 간격이 실제 공격 쿨다운보다 작아지면 문제가 발생할 것 같지만, 대부분의 경우는 잘 동작할 것으로 보임.

- `nullable` 파라미터는 `HasValue`로 유무를 체크하고 `.Value`로 사용한다
- 추가로 스나이퍼 2스킬이 동작하고 있음을 알리는 이펙트도 구현하면 좋겠다. 일단은 `AttackBuff`로 땜빵해봄.

- 코루틴과 이펙트 제거 타이밍, 스크립트 구조 등에 대해서 생각해볼 필요가 있겠다..


## 250103
[[250103]]
### 짭명방
#### 검격 이펙트(발사) 구현, Guard 1정예화 스킬로 넣음

- [[원거리 검격 이펙트 구현하기]]

> 씬 뷰에서 이펙트 외곽선 비활성화하기
> - 씬뷰 우측 상단 기즈모 아이콘 - `Selection Outline` 체크 해제.

- 이펙트는 구현 완료

- 스킬 내용
	- 오퍼레이터가 보고 있는 방향 **전방 3칸**으로 검격을 발사
	- 검격은 `파티클 시스템`이나 `VFX 그래프`로 구현

- 구현 과정에서 `enemy`의 콜라이더 위치를 `Model -> Enemy`로 이동

- 이펙트에 맞춰서 스크립트를 구현한 상태라서, 3칸이라는 범위가 딱 지켜질지 모르겠음
- 정확한 스킬 범위를 구현하기 위해, 콜라이더의 충돌이 발생했을 때 추가로 스킬 범위에 있는 타일에 Enemy가 있는지 체크, true일 때에만 대미지를 입히도록 수정함

- **파티클 시스템을 인스턴스화 한 다음에 실행 여부를 확인**해야 함
	- 그래야 파티클 위치를 추적하고, 거기에 콜라이더를 다는 방식으로 판정을 계산할 수 있음
![[Pasted image 20250104002447.png]]


#### 파티클 시스템 vs VFX 그래프
- 프로젝트 자체는 PC 용으로만 빌드할 생각이라 큰 상관은 없겠지만, 길게 보면 파티클 시스템으로 구현하면서 알아가는 게 좋을 것 같다. 결국 여기저기 쓰일 건 파티클 시스템으로 보이기 때문임.

> 유튜브에서 이펙트를 보다가 댓글을 봤는데, **VFX 그래프는 대부분의 모바일 기기에서 구동이 불가능하다는 말이 있다.**
> [[VFX 그래프 vs 파티클 시스템(Shuriken)]] 을 작성하면서 댓글도 좀 보고 있다. 여기서 나온 VFX 그래프의 특징이라면
> - **`GPU`에서 실행하기 때문에 `CPU`에서 실행하는 것보다 무거움.** CPU와의 통신이 오고가기 때문에.
> - **파티클의 수가 많을수록 파티클 시스템보다 유리함.** 
> - 하지만 **대부분의 경우 파티클은 많아도 수백 개 정도를 쓸 것임.** 그 이상을 쓴다면 VFX 그래프가 최적화된 툴이지만 그 미만이라면 VFX 그래프가 최선은 아님.
> - `Rigid Body` 같은 물리 시스템과 상호작용할 수 없음. 다른 방식으로 접근할 수는 있는 듯.
> - 위에서도 언급했듯 대부분의 모바일 기기와 상호작용 불가능. 

## 250102

### 짭명방

#### 번개 이펙트 구현
- [[번개 이펙트 구현하기(ㄴㄴ)]]
	- `Plane`에 셰이더 그래프를 올리는 방식으로 구현하는 방식.
	- 하지만 카메라 각도에 따라서 의도치 않은 상황들이 발생했다.
	- 똑같이 카메라 로테이션이 잡혔는데도 이상하게 인게임에서는 `Plane`이 눕는 형태가 나타났다. `Orient : Face Camera Plane` 등도 제대로 동작하지 않았음.
	- 또, `Plane` 자체는 한쪽 면만 렌더링된다. 관련 옵션을 찾아봤는데 보이지 않아서 그냥 같은 사람이 새로 올린 동영상 강의를 따라가겠음. 
	- ~~중간에 좀 쉬었지만 아무튼 4시간이 물거품이 되었습니다. ~~
- [[번개 이펙트 구현하기(진)]]
	- 구현 완료. `Top Flash`는 피격 지점마다 카메라 앵글에 담기는 게 어색하다. 그래서 제거.

- 참고)
	- 이펙트를 실험할 때, 동영상과 다르게 HDR의 Intensity를 올렸는데도 블러 효과 등이 나타나지 않는다면
![[Pasted image 20250102162311.png]]
저게 꺼져있지는 않은지 점검해보자. 
- 옵시디언을 못 보는 경우) **씬 뷰의 전구 아이콘** (씬의 라이팅을 사용할지 여부)

## 250101

### 짭명방
- `SniperProjectile` 이펙트 수정
- `Deploy` 이펙트 수정
- 메인 메뉴로 돌아갈 때 `DeployableBox` 생성되는 이슈 수정

