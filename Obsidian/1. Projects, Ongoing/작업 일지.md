# 앞으로 구현할 거 정리
- 현재 맵 Width, Height가 WindowEditor에 반영되지 않는 문제가 있다
- 저지 
	- 근접 공격 구현
- 게이지 표시
	- 게이지들의 구현은 완료, UI와 실제 수치 간의 연동 필요
- 배치 코스트 구현 
	- 초당 얼마씩 차게
- 스테이지 관리
	- UI
		- 상단
			- 가운데 : 남은 적의 수, 남은 라이프의 수
		- 하단 
			- 우측 : 전체 코스트 표시, 시간이 지날수록 배치 코스트가 조금씩 올라감
			- 최하단 한 줄 : 배치 가능한 오퍼레이터, 오퍼레이터의 코스트 표시
- 경로
	- 지금 하는 a* 알고리즘이 아니라 개발자가 직접 설정할 수 있어야 함
	- 즉 Spawner는 적의 종류, 적이 생성되는 시간을 갖고 있어야 함
		- 여기서 생성되는 Enemy는 자신의 경로를 갖고 있어야 함 
		- 상대 경로로 들어갈지 그리드 좌표로 일일이 넣을지는 그 때 가서 생각해보자.
# 8월

## 240801

### 유사 명방
- 게이지 구현
	- Enemy의 서식을 가져와서 Operator에 구현해놨는데 이상하다. NullReference 에러부터 해결을 시작하도록 한다.
	- 부모 오브젝트의 스케일이 달랐다. 부모 오브젝트의 스케일은 전부 1로 고정하고, 자식 오브젝트들의 요소들을 조정하는 방식으로 수정 중.
- [[Unity - Rect Transform]]
- `Operator` 나 `Enemy` 내부에 `Canvas`가 들어가는데, 이 때 둘 모두를 따로 프리팹으로 저장하지 말고, 가장 상위의 오브젝트만 프리팹으로 저장하자
	- 일단은.
- 이런 식의 개발을 할 때, `Enemy`나 `Operator`를 따로 구분해서 만들지 말고 `Unit`이라는 베이스 오브젝트를 하나 만들고, 거기서 추가로 살을 덧붙이는 식으로 구현해나가는 게 좋을 것 같다. 지금처럼 구현하면 중복된 구현을 여러 번 해야 하는 문제가 있음.
#### 방향 수정 : UI를 관리하는 매니저를 별도로 구현하고, 인스턴스에 UI를 갖다 붙이는 방식으로 수정한다
- 지금처럼 구현하면 **부모 오브젝트의 회전에 UI도 영향을 받는 이슈가 있음**
- (그리고 사실 UI도 매니저를 이용해서 구현하라고 배웠는데, 어쩌다 보니 여기까지 왔다)
-  [[Unity - UI 매니저]]

#### 휴식 중.. (앞으로 할 일)
1. 전역 UI Manager가 생성된 인스턴스에 캔버스 프리팹을 할당
2. 지금 Stat을 가져오는 곳들이 약간 중구난방식임 : 어떤 값은 Stats에서, 어떤 값은 Data에서.. 교통 정리가 필요해보인다.

#### 다시 진행
- (수정 완)갑자기 잘 작동했던 오퍼레이터 배치 하이라이트 로직도 이상해짐
- (완) UI Manager를 이용해 Enemy와 Operator 의 체력 게이지 (및 SP 게이지) 구현
	- 추후에 카메라를 회전하면 로테이션을 바꿀 필요는 있어 보임(카메라를 수직 방향으로 바라보도록)



# 7월

## 240731
### 유사 명방
- 게이지 구현 
	- 체력바 : 아군, 적군 모두에게 공통적으로 나타남
	- 적은 체력이 1 이상 깎였을 때에만 체력바가 나타남
	- 아군은 체력바 외에도 SP 게이지 바도 나타남 
- 혼란) 애셋으로 어떻게 저장해둘까?
	- **Canvas 단위로 묶겠음** - 설정할 게 있으면 하이어라키에 올리고 편집해서 다시 저장하면 되니까
	- 즉 Bar 들을 따로 프리팹으로 저장해두는 게 아니라, Canvas 아래의 요소들로 통째로 묶는다.
- [[Unity - 하위 오브젝트 저장 방법]]

- 체력바 다듬기 <-- 이거 이상해짐
	- Enemy와 Operator의 하단에 Bar들이 떠야 함
	- Canvas 자체는 오퍼레이터를 감싸는 프레임처럼 구성돼야 할 듯?



## 240730

### 유사 명방
- `MapEditorWindow.cs` - 컴파일러가 다시 작동했을 때 윈도우가 정상적으로 맵을 얻지 못하는 현상 수정 완료(`OnEnable`에서 맵을 다시 초기화해주면 된다)
- `SniperOperator` - 공격 범위 이상한 문제 수정 완료

드디어 진도 나간다!!!!!!!!!!!!!
#### 원거리 공격 구현하기(완)
- `Projectile.cs` 작성, `Operator.cs` 수정
- 공격 범위 판정 
	- 오퍼레이터의 공격 범위는 "타일"로 설정
	- **"타일 위에 적이 있다"는 `Tile.cs`에 구현**


### 240729

#### 유사 명방

##### 오늘의 목표
- 적 생성 -> 도착 지점까지 자동으로 이동하기
- (완) MapEditorWindow.cs에 LoadMap 메서드 실행 시, 그리드에 정상적으로 반영되지 않는 문제 수정(이거만 몇 번째냐...)
	- `MapEditorWindow.InitializeNewMap` 관련 
		- 맵 에디터 윈도우를 열었을 때 
		- 이미 Map이 하이어라키에 존재한다면 해당 Map을 그리드에 그린다
		- 없다면 새로운 맵을 만들거나 불러오기를 선택할 수 있도록 한다
	- 그리드 포지션 관련 설정 : 프로퍼티만 설정하면 **프리팹에 저장(직렬화)되지 않는다!** 
		- `public` 필드, 혹은 `[SerializeField] private` 필드만 직렬화된다.
	- [[Unity - Awake, OnValidate, Initialize 차이]]
	- [[Unity - 직렬화]] **<- 불러온 맵의 각 타일이 자기 좌표를 올바르게 갖지 못했던 이유**


### 240727

#### 유사 명방
- `MapEditorWindow.cs` 관련 수정 
	- 로드 시 그리드 변화 인식하지 못하는 문제 해결
	- **특히 이 좌표가 엄청 헷갈리므로 잘 기억해두자!!!!!**
		- Tile의 이름은 그리드 좌표를 따르도록 `Tile_{x}_{y}`로 설정
		- 이는 월드 좌표와 다르다 
			- 그리드 좌표는 좌측 상단이 (0, 0)
			- 월드 좌표는 좌측 하단이 (0, 0)
- 아예 `Map` 프리팹에 2차원 행렬을 저장하는 방식으로 바꿈
	- 기존엔 `MapManager`가 `Map`의 구조를 뜯어보는 방식이었음


### 240726

#### 유사 명방
- [[GetComponentsInChildren에 관해]]
- 게임 시작 시, 맵을 정상적으로 인식하지 못하는 문제 해결
- 위 문제를 해결하니까 다시 MapEditorWindow.cs가 이상해짐. 수정 중.
- 스포너에서 적 생성 작업 시작

### 240725

#### 블로그
- `MyDoing`의 스타일 조정
- 커서 위치에 드래그 & 드랍으로 이미지 업로드 구현
	- 추가) 이미지를 드래그 중일 때, Quill의 텍스트 커서 위치도 마우스 커서 위치에 따라 이동할 수 있게끔 구현하기(당연히 이동할 수 없는 위치로는 텍스트 커서가 움직일 수 없음)
- 버튼 클릭 없이, 본문에 유튜브 링크 붙여넣기 시 바로 동영상 임베드 삽입 기능 구현



