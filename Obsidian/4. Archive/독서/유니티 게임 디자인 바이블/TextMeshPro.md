1. [[#TMP의 인스펙터|TMP의 인스펙터]]
2. [[#머티리얼 인스펙터|머티리얼 인스펙터]]
3. [[#리치 텍스트|리치 텍스트]]
4. [[#폰트 애셋 만들기|폰트 애셋 만들기]]
5. [[#기타 기능들|기타 기능들]]
	1. [[#기타 기능들#스타일 시트|스타일 시트]]
	2. [[#기타 기능들#금칙 처리|금칙 처리]]
6. [[#TMP의 장단점|TMP의 장단점]]

- 텍스트 UI 에셋. 
- 깔끔한 이미지 그리기, 텍스트에 텍스쳐 적용, 광택 표현 추가도 된다.

- 3D, 2D로 모두 만들 수 있다. 3D의 경우는 `3D Object`에, 2D의 경우는 `UI` 탭에 있음.
	- 3D의 경우 셰이더가 `Distance Field(Surface)`로 변경, 포인트 라이트 등 라이트의 색상이 반영되어 문자의 형태에 맞춰 그림자가 드리워진다. 

## TMP의 인스펙터

- `3D`의 경우 인스펙터의 명칭은 `TextMeshPro`, `2D`의 경우 `TextMeshPro UGUI`로 다름. 기능은 거의 비슷하다.
> 스크립트로 TMP를 사용할 때 임포트하는 패키지에 주의해야 한다. 이 2개가 다르기 때문임.

![[Pasted image 20241120143211.png]]
- `Font Asset` : `ttf`나 `otf` 폰트 데이터, 혹은 이들로부터 만든 `TMP`용 폰트 애셋을 입력한다. 만드는 방법은 뒤에서 다룸.
- `Material Preset` : 폰트 애셋을 만들 때 기본적으로 머티리얼이 생성되지만, 다양한 패턴의 머티리얼을 쓰고 싶다면 머티리얼을 복제해서 사용한다. 복제 방법과 설정은 뒤에서 다룸.
- `Font Style` : `S`는 취소선, `SC`는 띄어쓰기 기준으로 첫 글자만 대문자, 나머지는 소문자임.
- **`Font Size` : `Auto Size`에 체크하면 `Rect Transform`의 크기와 머신 크기에 맞춰 글자 크기를 조정한다.** 
- `Vertex Color` : 텍스트 전체의 색상. 메시의 버텍스 컬러를 쓰므로 4개의 정점을 활용해서 그라데이션을 쓸 수 있다. 
- `Color Gradient`
	- `Color Preset` : 미리 준비한 설정을 적용할 수도 있다. `Color`와 곱셈 합성된다.
	- `Override Tag` : 리치 텍스트로 색을 지정해도 무효로 할 수 있다. 
- `Alignment`
	- `양쪽 정렬`과 `균등 정렬`은 단어, 문자 사이에 공간이 삽입된다.  두 정렬 방법 중 하나를 선택하면 `Alignment`아래에 `Wrap Mix`가 표시되어 단어 사이나 문자 사이에 공간을 삽입할 비율을 정할 수도 있다.
- `Wrapping` : 접기를 의미하며, **가로축을 기준으로 문자가 넘쳤을 때의 동작을 설정**한다. 활성화하면 표시 영역을 넘기지 않고 자동으로 행을 바꾼다. 
- `Overflow` : 세로축을 기준으로 문자가 넘어갔을 때의 동작을 설정한다.
	- `Overflow` : 표시 영역을 넘겨 텍스트를 그린다
	- `Ellipsis` : 넘긴 텍스트를 잘라내고 `...`을 넣어 텍스트 생략을 표시한다. 폰트 애셋에 `...`이 포함되어 있어야 한다. `Fallback`을 설정하면 동작하지 않는다.
	- `Truncate` : 넘긴 텍스트를 잘라내 버린다
	- `Linked` : 별도로 준비한 게임 오브젝트와 연결하면 영역을 벗어난 텍스트를 연결해서 표시한다. 연결을 설정한 쪽의 오브젝트는 Text Input Box에 텍스트를 입력할 수 없다.
	- `Page` : 페이지 번호가 표시되어 영역을 넘겼다면 페이지가 분할된다. 페이지를 넘기는 버튼이 생기지만 동작은 수동 설정해야 한다.
	- `Masking` : 얘는 사용 보류. `UnityEngine.UI`의 `Mask`나 `RectMask2D`로 구현 가능하다고 하니, 현재 사용되지 않는 것일 수도 있다.
	- `ScrollRect` : 마스킹과 같은 목적으로 만들어졌으나 권장되지 않는다.
- `UVMapping : Vertical, Horizontal`
	- 머티리얼에서 설정한 텍스처의 매핑을 설정한다. 
	- 책을 봐도 딱 와닿지가 않음
![[Pasted image 20241120144723.png]]
- `Margins`
	- `RectTransform`의 크기에 여백을 붙인다. 자르기, 오버플로우는 씬 뷰의 노란색 선을 기준으로 한다.
- `Geometry Sorting`
	- 지오메트리 그리기 순서를 설정한다.
	- `Normal`은 왼쪽 -> 오른쪽, `Reverse`는 오른쪽 -> 왼쪽 으로 그린다.
- `Rich Text`
	- 리치 텍스트를 활성화/비활성화 한다. `<>` 안에 이런저런 효과를 넣는 그 기능임.
- `Parse Escape Characters`
	- 이스케이프 문자 사용을 설정한다. `\n, \t` 등.
- `Visible Descender` 
	- 정렬의 수직방향 조정과 조합해 문자가 표시되는 방향을 제어한다. TMP 클래스가 가진 `maxVisibleCharacter`와 조합하면 천천히 문자를 표시할 수 있고, 보이는 방향도 바뀐다.
- `Sprite Asset`
	- 스프라이트 애셋(이모지)을 설정한다. 
- `Kerning`
	- 2개 문자 사이의 폭 정보를 의미한다. `커닝 페어`라고 불리는 2개의 문자 조합 정보로부터 문자 사이의 폭을 조정해 공백을 균등하게 한다. 커닝 데이터가 없는 폰트 애셋이라면 의미 없음.
- `Extra Padding`
	- 각 문자의 지오메트리 크기를 키워 스프라이트 표시를 최대로 만든다.
	- 문자 간격에 영향을 주진 않는다. 작은 텍스트에서 끝이 잘릴 때 사용한다.

## 머티리얼 인스펙터
- TMP의 아래에는 머티리얼 인스펙터가 표시된다.
![[Pasted image 20241120145205.png]]

- `Face` : 전체적인 외관을 제어한다.
	- `Color`
	- `Texture` : 텍스트에 매핑할 텍스쳐. `Speed`는 실행 시에 스크롤 애니메이션할 속도(초)를 설정한다.
	- `Softness` : 문자의 윤곽 부드러운 정도
	- `Dilate` : 거리 필드 위치 조정
	- `Gloss` : `Distance Field(Surface)` 설정 시에 나타나며, 광택을 조정하는 기능
- `Outline` : 텍스트의 아웃라인을 설정해 윤곽을 강조할 수 있다
	- `Color`
	- `Texture`
	- `Thickness` : 두께를 설정한다. `Face-Dilate`를 설정해 아웃라인을 밖으로 뺄 수 있다.
	- `Gloss`

![[Pasted image 20241120145439.png]]
- `Underlay` : 텍스트의 아래에 같은 텍스트를 그린다. 주로 **그림자**에 활용된다.
	- `Underlay Type` : 이미지 그리기 종류. `Normal`은 텍스트 밖, `Inner`은 텍스트 안.
	- `Color`
	- `Offset X/Y` : 언더레이의 오프셋 좌표를 설정. `TMP - Geometry Sorting`에서 렌더링 순서를 조절할 수 있다.
	- `Dilate`
	- `Softness`
![[Pasted image 20241120145626.png]]
- `Lighting` : 광원 설정을 할 수 있다.  모바일에서는 사용 불가능.
	- `Bevel` : 텍스트에 입체감을 주고 싶을 때 쓰는 듯
		- `Type` : 바깥/안쪽 타입 설정
		- `Amount` : 배벨 높이 설정, 기울기 면의 완급을 제어한다.
		- `Offset` : 깊이 기준 설정. 양 끝 기준점을 중앙에 가깝게 하고 싶다면 -, 멀게 하고 싶다면 +으로 설정한다.
		- `Width` : 배벨 크기 설정. 기준점을 중심으로 넓어지는 기울기의 폭 설정.
		- `Roundness` : 배벨의 둥근 정도 설정
		- `Clamp` : 배벨의 높이를 잘라내는 클램프 설정.
	- `Local Lighting`
		- `Light Anglie` : 광원 설정
		- `Specular Color` : 광원 색상 설정
		- `Specular Power` : 광원 조명 효과 강도 설정
		- `Reflectivity Power` : 최종적인 색에 환경 맵의 기여도 설정
		- `Diffuse Shadow` : 전체 그림자의 강도 설정
		- `Ambient Shadow` : 주변광에 따른 그림자 설정
	- `Bump Map` : 법선 맵 설정
		- `Texture` : 법선 맵 설정. 효과는 배벨과 함꼐 쓸 수 있다.
		- `Face` : 페이스 부분의 법선 강도 설정. 0은 무효, 1은 최대한
		- `Outline` : 아웃라인 부분의 법선 강도 설정.
	- `Environment Map` : 환경 맵 설정. 텍스트의 Face나 Outline에 반사 효과를 적용할 수 있따.
		- `Rotation`이 잘린 부분에 있는데 기능하지 않나봄
![[Pasted image 20241120150144.png]]
- `Glow` : 발광 표현을 설정할 수 있다. `Bloom`, `Glare`라고도 불리며 빛이 환하게 빛나는 표현에서 이용한다. `Outline` 영역을 이용해 발광 표현을 나타낸다.
	- `Color`
	- `Offset` : 텍스트 윤곽으로부터의 오프셋 설정. 윤곽 안쪽이나 밖에 배치할 수 있다.
	- `Inner, Outer` : 윤곽 안쪽, 바깥쪽에서의 발광 범위 설정
	- `Power` : 발광의 강도 설정. 텍스트 윤곽으로부터 글로우 끝까지 빛이 줄어드는 정도 표현.

## 리치 텍스트
- `<>`을 사용하는데 **솔직히 필요할 때 즉각즉각 검색해서 이용하면 된다**고 생각해요!! 
- `<font>`, `<material>` 등 같은 컴포넌트 내에서도 다른 폰트나 머티리얼을 사용할 수 있다는 것도 참고.


## 폰트 애셋 만들기
- `Windows - TextMeshPro - Font Asset Creator`
![[Pasted image 20241120150728.png]]
- `Sampling Font Size` 
- `Padding` 
	- 문자 사이 여백을 픽셀 단위로 선택한다. 클수록 품질이 높아지지만 만드는 시간이 더 오래 걸린다.
	- 패딩이 클수록 그윤곽이 흐릿한 듯 보이는데, 문자의 가장자리에서부터 패딩 크기에 해당하는 그라데이션을 생성한다. 이를 통해 패딩이 커지면서 굵게 표현할 수 있는 범위나 레이아웃 등 이펙트 크기의 범위도 변경할 수 있다.
- `Padding Method`
	- 텍스처를 써넣는 세밀한 정도. `Fast`는 속도 우선, `Optimum`은 최적도 우선이다. `Optimum`은 더욱 큰 폰트 크기가 되도록 패킹한다.
- `Atlas Resolution`
	- 많은 문자를 표시할수록 해상도를 높여야 한다. 
- `Character Set`
	- 폰트 아틀라스에 써넣을 문자를 지정한다. 한국어의 경우는 `Custom Characters, Custom Range` 등으로 써넣을 문자를 지정한다.
- `Render Mode`
	- `SDF~~` 시리즈는 기존 SDF 텍스처를 만드는 모드이다. 수치가 커질수록 복잡한 문자, 미세한 문자를 만들 떄 효율적이다.
	- `SDFAA, SDFAA_HINTED`는 `다이내믹 폰트`로 사용할 수 있을 정도로 빠르게 텍스처를 만드는 모드이다.
	- `SMOOTH, SMOOTH_HINTED, RASTER, RASTER_HINTED`는 `히트맵 폰트 셰이더`로 사용한다.
	- **기본적으로 SDFAA를 사용하면 문제가 없다.** 
	- Sampling Point Size가 작을수록 깨지는 문제가 있어서, 깔끔하게 만들고 싶다면 SDF16, SDF32를 이용하면 좋다.
> 	참고) `Hinted`란 `폰트 힌팅`을 의미하며, 아웃라인 폰트를 저해상도 텍스처로 래스터라이즈할 때 문자가 깨지는 것을 방지한다. 그러나 SDF 텍스처를 만들 경우에는 문자가 커서 효과가 크게 없을 수 있다.
- `Get Kerning Paris`
	- 폰트로부터 커닝 데이터를 복사할 수 있다. 이 데이터는 특정 문자 페어의 간격을 조정하기 위해 쓰이며, 문자 사이의 공백 면적을 균등하게 한다.


## 기타 기능들

### 스타일 시트
- HTML의 CSS 같은 거라고 생각하면 된다. 즉 CSS에 어떤 이름으로 사용할 스타일들을 정의하고 HTML 상에서 간단하게 쓰는 것처럼, 여기도 비슷한 기능이 있다.
- 생성은 `Create -> Text -> Text StyleSheet`으로 하면 됨. 프로젝트 탭에서.
![[Pasted image 20241120151721.png]]

이렇게 만들면 실사용은 아래처럼 할 수 있다는 뜻.
```
<style=H1>텍스트</style>
```

### 금칙 처리
- 기본적으로 행 처음, 행 끝에서 `.`이나 `,` 은 금칙어 처리가 되어 있으며 한국어에도 대응된다. 
- 추가할 문자가 있다면 적절한 텍스트 파일에 문자를 추가한다. 
	- 이 텍스트 파일은 `TMP Settings`에 설정되어 있으며 `LineBreaking Leading Characters`가 첫 글자, `LineBreaking Following Characters`가 끝 금칙 문자이다.


## TMP의 장단점

- 장점
	- Drawcall을 줄이면서 아웃라인을 붙일 수 있다
	- 베벨, 글로우 등 그리기 기능이 풍부하다
	- 스케일링이나 재기(jaggies)에 강하다
	- 스프라이트를 사용한 이모지를 추가할 수 있다
	- 리치 텍스트 기능이 풍부하다
	- 금칙 처리를 할 수 있다
- 단점
	- 텍스처가 메모리에 부하를 준다
	- 텍스트 꾸미기를 거의 하지 않는다면 가성비가 나쁘다

- 주의점
	- 다이내믹 폰트를 이용할 경우, 패딩 설정에 따라 기본 다이내믹 폰트보다 볼록해지기 쉽다 
	- SDFAA의 경우 문자 모양이 약간 꺠질 수도 있다는 점
	- Asset Bundle 선택 시 다이내믹 폰트의 텍스쳐 취급 등도 주의점.

안정성은 `Static`, 많은 기능은 `Dynamic` 등 목적에 따라 구분해서 사용해보자.






