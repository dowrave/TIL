1. [[#렌더 파이프라인|렌더 파이프라인]]
	1. [[#렌더 파이프라인#빌트인 렌더 파이프라인(기본 설정)|빌트인 렌더 파이프라인(기본 설정)]]
			1. [[#빌트인 렌더 파이프라인(기본 설정)#빌트인 렌더 파이프라인 사용에 적합한 상황|빌트인 렌더 파이프라인 사용에 적합한 상황]]
	2. [[#렌더 파이프라인#유니버설 렌더 파이프라인(URP)|유니버설 렌더 파이프라인(URP)]]
		1. [[#유니버설 렌더 파이프라인(URP)#URP의 라이팅|URP의 라이팅]]
		2. [[#유니버설 렌더 파이프라인(URP)#포스트 프로세싱|포스트 프로세싱]]
		3. [[#유니버설 렌더 파이프라인(URP)#2D 라이팅|2D 라이팅]]
		4. [[#유니버설 렌더 파이프라인(URP)#URP 사용에 적합한 개발|URP 사용에 적합한 개발]]
	3. [[#렌더 파이프라인#HDRP|HDRP]]
		1. [[#URP 사용에 적합한 개발#라이팅|라이팅]]

- `HDRP(High Definition Render Pipeline)`, `URP(Universal Render Pipeline)`, `LWRP(LightWeight Render Pipeline)` 등의 용어가 있다. 이들의 근간에는 `렌더 파이프라인`이라는 유니티의 시스템이 있다. 

`렌더 파이프라인`은 그림을 화면에 그리기 위한 구조로 이해할 수 있다. 2018 버전 이후 유니티에는 새로운 렌더 파이프라인이 추가되어, 표현력, 제작 방법, 다룰 수 있는 도구 등이 크게 바뀌었다.

## 렌더 파이프라인
- **프로젝트의 씬에 배치된 2D, 3D 데이터가 최종 상태의 이미지가 되어 화면에 표시될 때까지의 프로그램 전체의 흐름 및 구조.**
- 기본적으로 2종류가 탑재되어 있다.
	- `빌트인 렌더 파이프라인`
	- `스크립터블 렌더 파이프라인(SRP)`

여기서 SRP는 기본적으로 저수준이지만, 이를 사용해 만들어진 경량의 `URP`와 고품질에 특화된 `HDRP`는 완성된 상태로 제공되므로 누구나 즉시 사용할 수 있다.

대부분의 디자이너는 `빌트인, URP, HDRP`중에서 골라 사용하게 될 것이다. 

**프로젝트 진행 중에 렌더 파이프라인을 변경하는 경우에는 큰 수고가 들 수 있다.** 따라서 렌더 파이프라인을 결정하는 작업은 프로젝트의 시작 단계에서 이뤄지는 게 좋다. 

### 빌트인 렌더 파이프라인(기본 설정)
- 하나의 프로젝트에서 스마트폰, PC, 콘솔 등 **다양한 타겟에 대응해 최적의 상태로 빌드할 수 있다.** 프로젝트를 서로 다른 타겟용으로 빌드하면 해당 기기에 적절한 구성, 기능 등이 자동으로 선택되어 앱이 만들어진다. 
	- ex) 부하가 높은 광원이나 포스트 프로세스를 사용할 때 가정용 컨슈머 기기 등의 높은 스펙의 기기에서는 해당 처리를 그대로 처리하고, 스마트폰 등에서는 일부 표현을 자동으로 자르거나 생략한다.
- 빌드인 렌더 파이프라인을 사용하면 **개발자가 하나의 프로젝트만으로 여러 타겟에 대응하는 게임을 릴리스할 수 있다**는 장점이 있다. 
- 하지만 **각 타겟에 대한 변경점을 직접 알기 어렵고, 특정 타겟에 대한 최적화 작업도 어렵다.**

#### 빌트인 렌더 파이프라인 사용에 적합한 상황
```
- 여러 타겟에 릴리즈하고 싶을 때
- 과거에 만들었던 에셋이나 기능을 유용하고자 할 때
- 현재 그래픽 기능에 불만이나 부족함이 없을 때
- 비주얼 이펙트 그래프, 셰이더 그래프를 이용하지 않을 때
- 단기간에 완성하고 오랜 기간에 걸친 운영을 고려하지 않을 때
```

하지만 기능 면에서 점점 쳐질 가능성이 있다. 빌트인 대신 URP에 대한 개발이 더 이뤄질 것이라고 유니티에서 공식 발표했기 때문이다. 
그리고 `셰이더 그래프`나 `비주얼 이펙트 그래프` 등 여러 그래픽 신기능이빌트인에는 없고 SRP에만 대응되어 있다. **오랜 기간에 걸친 본격적인 개발을 하겠다면, 빌트인 렌더 파이프라인을 제외하는 게 좋다.**

### 유니버설 렌더 파이프라인(URP)
- SRP를 사용한 범용적인 경량 렌더 파이프라인

- 특징
	- 다양한 타겟에서 동작하는 게임을 만들 수 있게 단순하고 가볍게 설계되었고, 개량이나 커마가 쉽다. 
		- 엔지니어와 디자이너가 협업할 경우 커스텀 렌더 패스 등의 기능을 활용해 기존에 어려웠던 그래픽 표현을 간단하게 구현할 수 있다. 
	- **URP, HDRP에서는 빌드 타겟에 맞춰 유니티에서 자동으로 기능을 변경하지 않는다.** 개발자가 직접 타겟에 맞춰 프로젝트를 만들어야 한다.
	- `싱글 패스 포워드 렌더링 Single Path Forward Rendering`이라는 고유의 렌더링 패스를 사용해 부하와 품질 사이의 더 좋은 균형을 얻었다.
	- `SRP`의 구조를 가졌기 때문에 `셰이더 그래프, 비주얼 이펙트 그래프` 등의 기능을 쓸 수 있다.
	- 경량화에 중점을 두고 구성되었지만, 광원 수의 상한선 향상이나 `디퍼드 렌더링` 구현 등 풍부한 이미지 만들기 기능 추가가 예정되어 있어 더 범용적일 예정이다.

#### URP의 라이팅
- 가벼운 고품질 그래픽을 위한 `싱글 패스/포워드 렌더링`이라는 렌더링 패스만 쓰이고 있다.
	- 이 2가지는 꼭 알아둬야 함
	- 한 머티리얼에 대해 **유효한 광원 수를 4~8개로 한정하는 대신, 광원 수가 상한선 이하라면 그 수가 늘어도 부하 변화가 적다.** 
	- 이 광원들은 **주 광원 1개와 추가적인 광원으로 명확히 구분되므로 기능적 차이가 발생**한다.

라이팅 방법은 기존과 크게 다르지 않지만, 아래 2개에 주의한다.
- **많은 광원을 가까운 장소에 두지 말 것**
- **어떤 라이트를 메인으로 정할 것인가 결정하는 것** (`Windows - Rendering - Light Settings`의 `Scene` 탭에 있는 `Sun Source`에서 결정)
	- 보조 광원은 모닥불, 가로등 등 가까운 거리까지의 빛, 혹은 캐릭터의 횃불이나 총구의 가시광선, 마법 효과의 빛 등 동적 오브젝트에 한한 광원으로 사용한다. 
	- 추가 광원의 수는 게임 중의 동적 실행 상황에서도 갯수가 상한선을 넘지 않게 주의해야 한다.

#### 포스트 프로세싱
- URP에서는 `Post Processing Stack V3`을 사용할 수 있다. URP, HDRP와 통합된 형태로 제공되므로, URP의 포스트 프로세싱과 HDRP의 포스트 프로세싱은 이름이 같아도 기능은 다르다.
- `V3`에서는 `볼륨 프레임워크`를 채택했다. 효과의 범위를 공간에 적용하기 위한 구조이며, 보다 직관적인 효과 범위 설정 및 부드러운 효과 연결에 쓰인다.

#### 2D 라이팅
- URP만 있다.
- 2D 게임에 라이팅을 적용할 수 있게 한다. 
	- 2D 스프라이트에 3D 오브젝트처럼 광원의 영향을 줘서 명암이나 색상을 더하거나, 
	- 스프라이트에 그림자를 드리우거나, 
	- 노멀맵으로 스프라이트에 음영을 줄 수도 있다.
- 이를 위해 이용하는 전용 셰이더는 셰이더 그래프에도 대응한다. 
	- 2D 셰이딩 표현도 확장할 수 있다.

2D 라이팅을 이용하면 **같은 배경 이미지를 쓰더라도 밤->낮 전환, 횃불 주위의 플레이어만 밝게 비추는 등의 연출을 간단히 할 수 있다.** 
- 이 떄 주의할 점은 2D 라이팅을 쓸 경우, 스프라이트에 적용하는 셰이더는 URP 전용 셰이더를 사용해야 한다는 것이다.

#### URP 사용에 적합한 개발
```
- 새롭게 시작하는 개발
- 출시 후 오랜 기간의 운영을 고려한 개발
- 스마트폰부터 PC, 콘솔 모두 가능
- 치밀한 사실 표현이 필요하지 않을 경우
- 애니메이션, 회화 등의 고유 표현을 할 경우
```

### HDRP
- 고품질의 그래픽에 특화된 렌더 파이프라인. 
- AAA 품질의 게임, 자동차 등의 공엄 제품이나 건축물의 시각화 등 보다 **정확하고 상세한 라이팅이 필요한 제작물**이 주요 대상이다. **성능 면에선 부하가 크고**, 게이밍 PC, 일부 고성능 콘솔 기기 등 한정된 대상에서만 쓰인다.
- 레이 트레이싱 등의 현대 하드웨어에서 실제로 사용하기 어려운 기능도 포함된다.
- 커스터마이즈가 가능하지만 고도의 물리 베이스 렌더링을 채용하므로 많은 엘리먼트가 복잡하게 얽혀서 변경의 난이도가 높다. **상급자용 렌더 파이프라인**으로 보면 됨.

##### 라이팅
- `포워드 렌더링, 디퍼드 렌더링`이라는 2개의 렌더링 패스를 쓸 수 있다.
- `디퍼드 렌더링Deferred Rendering`은 하이엔드용 라이팅의 일반적인 방법으로, 대량의 광원을 사용할 수 있는 렌더링 방법이다. 
- HDRP에서는 사용 가능한 광원의 수에 제한이 없다.
- 현실 세계에서 쓰이는 빛의 단위를 이용한 `PLU(Physical Light Unit)`를 사용한다. 
- `볼륨 라이트Volume Light`를 사용해 대기 중에 빛이 투과하는 형태도 만들 수 있다. 
- URP, 빌트인과 마찬가지로 정적 라이팅으로 라이트 맵, 라이트 프로브, 리플렉트 프로브를 사용할 수 있다.
기타 설명이 있는데 그런 부분은 URP에서 언급된 것들이 대부분이라 여기선 생략.




