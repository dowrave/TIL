1. [[#함수|함수]]
	1. [[#함수#함수 선언하고 호출하기|함수 선언하고 호출하기]]
	2. [[#함수#매개변수, 인수, return|매개변수, 인수, return]]
	3. [[#함수#기본 매개변수|기본 매개변수]]
	4. [[#함수#실습) 웹 개발자 도구의 디버깅 기능 살펴보기|실습) 웹 개발자 도구의 디버깅 기능 살펴보기]]
2. [[#변수 유효 범위 : 스코프|변수 유효 범위 : 스코프]]
	1. [[#변수 유효 범위 : 스코프#스코프|스코프]]
	2. [[#변수 유효 범위 : 스코프#블록 스코프|블록 스코프]]
	3. [[#변수 유효 범위 : 스코프#자바스크립트 변수 사용법(권장)|자바스크립트 변수 사용법(권장)]]
	4. [[#변수 유효 범위 : 스코프#실습) 웹 개발자 도구 창에서 스코프 확인하기|실습) 웹 개발자 도구 창에서 스코프 확인하기]]
		1. [[#실습) 웹 개발자 도구 창에서 스코프 확인하기#결론|결론]]
3. [[#이름 없이 사용하는 함수 표현식|이름 없이 사용하는 함수 표현식]]
	1. [[#이름 없이 사용하는 함수 표현식#익명 함수|익명 함수]]
		1. [[#익명 함수#즉시 실행 함수|즉시 실행 함수]]
	2. [[#이름 없이 사용하는 함수 표현식#화살표 함수|화살표 함수]]
		1. [[#화살표 함수#매개변수가 없을 때|매개변수가 없을 때]]
		2. [[#화살표 함수#매개변수가 1개일 때|매개변수가 1개일 때]]
		3. [[#화살표 함수#매개변수가 2개 이상|매개변수가 2개 이상]]
	3. [[#이름 없이 사용하는 함수 표현식#콜백 함수|콜백 함수]]
		1. [[#콜백 함수#함수 이름을 사용해 콜백함수 실행하기|함수 이름을 사용해 콜백함수 실행하기]]
		2. [[#콜백 함수#함수에 직접 작성해서 콜백 함수 실행하기|함수에 직접 작성해서 콜백 함수 실행하기]]
4. [[#실습 : 입력값을 표시하는 콜백함수 만들기|실습 : 입력값을 표시하는 콜백함수 만들기]]
	1. [[#실습 : 입력값을 표시하는 콜백함수 만들기#함수는 1급 시민|함수는 1급 시민]]
		1. [[#함수는 1급 시민#변수에 함수 할당하기|변수에 함수 할당하기]]
		2. [[#함수는 1급 시민#함수를 다른 함수로 전달하기|함수를 다른 함수로 전달하기]]
		3. [[#함수는 1급 시민#함수에서 다른 함수 반환하기|함수에서 다른 함수 반환하기]]
5. [[#전개 구문(Spread Syntax)|전개 구문(Spread Syntax)]]
	1. [[#전개 구문(Spread Syntax)#작성 방법|작성 방법]]
	2. [[#전개 구문(Spread Syntax)#나머지 매개변수|나머지 매개변수]]
	3. [[#전개 구문(Spread Syntax)#예제|예제]]
6. [[#타이머 함수|타이머 함수]]
	1. [[#타이머 함수#setInterval() : 일정 시간마다 반복|setInterval() : 일정 시간마다 반복]]
	2. [[#타이머 함수#clearInterval() : 반복 멈추기|clearInterval() : 반복 멈추기]]
	3. [[#타이머 함수#setTimeout() : 특정 시간 이후에 실행하기|setTimeout() : 특정 시간 이후에 실행하기]]
7. [[#마무리 문제|마무리 문제]]
---

## 함수
- `함수` : 동작할 목적대로 여러 개의 명령을 묶어놓은 것
- 함수를 왜 쓰는가? : 재사용성, 가독성을 위함

### 함수 선언하고 호출하기
```js
// 함수 선언하기
function 함수명() {
	명령(들)
}

// 함수 호출하기
함수명()
```

- 예시) 1부터 10까지의 값을 더한 뒤 출력하는 함수 만들기
```js
let sum = 0

function add() {
    for (i=1;i<=10;i++){
        sum += i;
    }

    document.write(sum);
}

add();
```

- 함수 선언은 일반적으로 실행보다 앞에 넣는다.
	- 함수 선언을 실행보다 뒤에 놓더라도, `호이스팅Hoisting`이 발생해서 앞으로 끌어당긴다.

### 매개변수, 인수, return
- `매개변수Parameter` : **함수를 선언할 때 외부에서 값을 받는 변수.** 함수 선언 시 소괄호 내에 매개변수의 이름을 넣어준다.
```js
// 매개변수 a, b
function sum(a, b) {
	// ...
}
```

- `인수Argument = 인자` : **함수를 호출할 때 실제로 값을 넣어 넘겨주는 것**. 
```js
// 인수 10, 20
sum(10, 20)
```

- `return` : 함수의 실행 결과를 함수가 실행된 시점으로 넘겨주는 것.
```js
function calcSum(n){
	return sum;
}

document.write(calcSum(num));
```

### 기본 매개변수
- 에크마스크립트 2015부터 매개변수가 있는 함수를 선언할 때 기본값을 지정할 수 있게 되었다.
```js
function multiple(a, b, c) {
	return a * b + c;
}

multiple(2, 4, 8); // 16
multiple(2, 4); // NaN
```
> 값을 전달받지 못한 매개변수의 값은 `undefined`가 된다.

- 기본 매개변수의 지정은 파이썬과 비슷함
```js
function multiple(a = 2, b = 4, c = 8) {
	// ...
}
```

### 실습) 웹 개발자 도구의 디버깅 기능 살펴보기
- 웹 개발자 도구의 `소스` 탭을 보면 현재 문서와 연결된 파일과 폴더가 표시된다.
- `소스`의 자바스크립트 파일을 클릭하면 작성한 코드가 뜬다. 
- 소스에서 중간 실행 결괏값이나 변숫값을 확인하기 위해 원하는 위치를 표시해두는데, 이를 `중단점, 브레이크포인트Breakpoint`라고 한다. 
- 중단점으로 지정하고 싶은 **줄 번호를 클릭하면, 표시가 바뀌면서 중단점이 생긴다.**
- 중단점을 지정한 상태에서 새로고침했을 때 코드가 정상적으로 작동하는 상황이라면, `디버거에서 일시중지됨`이라는 문구가 뜬다.
![[Pasted image 20231114135100.png]]
> `디버거 일시중지됨` 위의 아이콘들을 보면, `|>` 오른쪽의 아이콘은 `함수 선언을 건너 뛰고 디버깅`, 그 오른쪽의 아이콘은 `함수 선언 내의 명령까지 디버깅`하는 버튼이다. 여기서는 함수 선언 내의 디버깅을 클릭한다.
> 이후는 동일한 아이콘을 반복 클릭하거나, 가장 오른쪽의 `->.` 아이콘을 반복해서 클릭하면서 과정을 관찰하면 된다. 근데 크게 유의미한 느낌은 아니긴 함

## 변수 유효 범위 : 스코프

### 스코프
- `스코프Scope`란, 선언한 변수의 적용 범위이다. 

- `var` 사용
	- `지역 스코프` : 함수 내에서 `var`로 선언한 경우, 함수 외에서는 사용할 수 없음.
		- 단 **함수 내에서 변수가 `var` 없이 선언**된 경우는 전역 변수가 된다.
	- `전역 스코프` : 프로그램 시작 부분에서 선언되며, 프로그램의 모든 곳에 사용할 수 있음.

- `let, const` 사용 : 전역 스코프처럼 쓰이지만 이 경우는 `스크립트 스코프`를 가진다는 표현을 쓴다.

### 블록 스코프
- `블록Block` : `중괄호{}`로 둘러싸인 영역.
- `let, const`를 사용해 만든 **변수는 기본적으로 블록 내에서만 유효**하다. 이들을 `블록 스코프`를 가진다고 하고, `블록 변수`라고 한다.
```js
const factor = 5; // 스크립트 스코프, 모든 영역에서 사용 가능

function calc {
	return num * factor; // num은 블록 변수이므로 블록 밖에서 사용할 수 없다.
}

{
	const num = 10;
	let result = calc();
	document.write(`result : ${result}`);
}
```
> 블록 내에서 함수를 사용한 변수가 선언되더라도, **함수의 명령 자체는 블록 밖에서 실행**되는 것으로 보나보다.

- 이러한 경우 아래처럼 수정할 수 있다.
```js
const factor = 5;

function calc(num) { // num을 매개변수로 뺐음 : 이 경우 함수 블록 내에서만 사용 가능
	return num * factor
}
{
	let result = calc(10);
	document.write(`result : ${result}`);`
}
```

### 자바스크립트 변수 사용법(권장)
1. `var`보다 `let, const` 변수를 사용한다.
	- `var`은 재선언해도 오류가 발생하지 않아서 어디에 문제가 있는지 파악하기 힘들기 때문이다.

2. 전역 변수는 최소한으로 사용한다.
	- 어디서든 사용할 수 있기 때문에 어디서든 값을 변경할 수 있다. 그래서 오류에 취약하다.
	- 값이 변하지 않는다면 `const`로 선언하자.

**3. 객체 선언은 `const`를 사용한다.**
	- 객체를 선언할 때는 프로그래밍 중 객체가 바뀌지 않도록 `const`를 사용한다.
	- **`const`로 객체를 선언하더라도, 내부 프로퍼티는 수정할 수 있다.**

### 실습) 웹 개발자 도구 창에서 스코프 확인하기
```js
function addSum(n) {
    var sum = 0;
    for (var i = 1; i <= n; i ++){
        sum += i;
    }
    return sum;
}

var num = 3;
console.log(`${addSum(num)}`);
```
- 이런 코드를 만들고, 웹에서 띄운 다음 `var num = 3` 부분에 중단점을 만들고 새로고침한다.
- 이후 `범위` 탭을 보면
	1. 새로고침 직후에는 `전역의 num: undefined`
	2. `다음 함수 호출` 클릭하면 `전역의 num = 3`
	3. `다음 함수 호출` 클릭하면 `로컬`이 활성화되고, `i, n, sum`이 나오기 시작. 여기서 `로컬`은 함수 내의 블록을 의미하는 듯.

- 여기서 함수 내 블록에서 `var` -> `let`으로 바꾸고, 바깥의 `var` -> `const`으로 바꾸면
	1. `num`은 `전역`이 아니라 `스크립트`에 들어감.
	2. `차단`이라는 탭도 생기는데, 아마 `block`의 오역인 듯. 여기에는 반복문에서만 사용되는 `i`가 들어간다.
	3. 반복문의 조건을 `i`가 넘어가면, `차단` 탭이 사라진다. `다음 함수 호출`을 한번 더 누르면 `로컬`도 사라진다.


> 참고) 자바스크립트의 전역 변수는 `window` 객체의 프로퍼티로 저장된다. js의 최상위 객체임.

#### 결론
- `var`을 쓸 경우, `전역`과 `지역`으로만 나뉜다. 
	- `전역` 변수는 최상위 객체인 `window` 객체에 저장된다. 불필요하게 끌어들이는 경우도 생긴다.
- `const`, `let`을 쓸 경우, 전역으로 쓸 때 `스크립트` 스코프를 가진다.

## 이름 없이 사용하는 함수 표현식
- 함수 이름을 지정하지 않거나 1번만 사용할 함수일 경우 `함수 표현식`이라는 표현으로 사용한다.

### 익명 함수
- 함수 이름이 없는 함수이다. 함수를 **변수처럼 쓰기 위해 익명으로 선언**한다.
```js
let sum = function(a, b) {
	return a + b;
}

console.log(`함수 실행 결과 : ${sum(10, 20)}`)
```
- 자바스크립트에서는 함수를 값처럼 사용할 수 있다. 
	- **변수에 할당**할 수 있고, **다른 함수의 매개변수**로 넘길 수도 있다.
- 자바스크립트의 함수를 `1급first-class 시민`, `1급 함수`라고 한다.

#### 즉시 실행 함수
- 함수를 정의하는 동시에 실행하는 방법이다.
```js
(function(a, b){ // <- 파라미터
	let sum = a + b;
	console.log(`함수 실행 결과 : ${sum}`)
}
 (100, 200)); // <- 인자
```

### 화살표 함수
- 에크마 스크립트 2015부터는 `function`을 생략한 `=>` 표기법을 사용해 함수를 더 간단하게 선언할 수 있다.
- **표현식을 사용해 함수를 정의할 경우에만 사용할 수 있다.**(즉 함수 이름을 정하지 않거나 바로 사용할 함수일 때만 화살표 함수를 쓸 수 있다)
```js
(매개 변수) => {함수 내용}
```

#### 매개변수가 없을 때
- 소괄호 부분을 비워둔다.
- 다음 3개의 코드는 모두 같은 함수.
```js
let hi = function() {
	return `안녕하세요?`;
}
hi();

// 화살표 함수
let hi = () => { return `안녕하세요?` };
hi();


// 함수에서 명령이 한 줄이라면, {}과 return을 생략할 수 있다.
let hi = () => `안녕하세요?`;
hi();
```

#### 매개변수가 1개일 때
- 소괄호를 생략할 수 있다.
```js
let hi = function(user) {
	console.log(`${user}님, 안녕하세요?`);
}
hi('홍길동');

// 소괄호 생략
let hi = user => console.log(`${user}님, 안녕하세요?`);
hi('홍길동');
```

#### 매개변수가 2개 이상
- `(매개변수) => {...}` 처럼 사용한다. 
```js
let sum = (a, b) => a + b;
sum(10, 20);
```

### 콜백 함수
- 다른 함수의 인수로 사용하는 함수.

#### 함수 이름을 사용해 콜백함수 실행하기
- 버튼을 클릭했을 때 알림 창을 표시하는 예제.
```js
const bttn = document.querySelector("button"); // 버튼 요소를 가져옴

function display(){
	alert("클릭했습니다.");
}

bttn.addEventListener("click", display) // 버튼 클릭 시 display 함수 실행
```
> - `const bttn` 부분 때문에, HTML 문서에는 `<button></button>` 부분을 하나 더 만들어준다.
> - 이처럼 함수를 즉시 실행하지 않고, 어떤 조건이 되었을 때 실행하기 위해  `display()`함수가 실행되는 상황은 `bttn.addEventListener`가 클릭되는 시점이다.

#### 함수에 직접 작성해서 콜백 함수 실행하기
- 함수를 1번만 실행한다면, `display()`라는 이름을 지정할 게 아니라 바로 함수에 작성할 수도 있다.
```js
bttn.addEventListener("click", () =>{
	alert("클릭했습니다.");
})
```

## 실습 : 입력값을 표시하는 콜백함수 만들기
```js
function showData(name, age) {
    alert(`안녕하세요? ${name}님, 나이가 ${age}살이군요.`);
}

function getData(callback) {
    let userName = prompt("이름을 입력하세요.");
    let userAge = prompt("나이를 입력하세요.");
    callback(userName, userAge);
}

getData(showData);
```
> 실행 순서는 `1. getData() -> 2. showData() -> 3. getData(showData)`

### 함수는 1급 시민
- 1급 시민이란, 아래의 조건을 만족하는 것이다.
> 1. 변수에 할당 가능
> 2. 다른 함수에 인자로 사용 가능
> 3. 다른 함수에서 반환값으로 사용 가능

#### 변수에 함수 할당하기
- 함수를 변수에 할당하면 변수 이름을 함수처럼 쓸 수 있다.
```js
function add(a, b) {
	return a + b;
}

let sum = add; // 변수명 sum
sum(2, 10); // 함수처럼 사용
```

#### 함수를 다른 함수로 전달하기
- 함수를 다른 함수의 인수로 사용하는 것도 가능하다. 
```js
function hello() {
	return "안녕하세요?";
}
function bye() {
	return "안녕히 가세요.";
}

function userCheck(name, fn) { // fn 함수를 전달받는다
	console.log(`${name}님`, fn()); // 블록에서 fn() 처럼 함수 사용
}

userCheck("홍길동", hello)
userCheck("도레미", bye)
```

#### 함수에서 다른 함수 반환하기
- 함수에서 다른 함수를 반환할 수 있다.  함수는 값이기 때문.
```js
let init = () => {
	return function(a, b) {
		return a - b > 0 ? a - b : b - a;	
	}
}

init(30, 20) // 함수 function(a, b) { ... } 반환
init()(30, 20) // 10 반환
```
- `init`을 `=>`로 함수인 변수로 선언했고, `init`에 의해 반환되는 함수 `function(a, b)`가 호출된다.
- 내부 함수까지 처리하려면 `init()(a, b)`로 넣으면 됨.

## 전개 구문(Spread Syntax)
- 배열처럼 값이 다양한 자료를 한꺼번에 인수로 넘겨주거나, 배열과 배열을 합할 때처럼 배열을 하나의 덩어리로 처리할 때 유용하다.

### 작성 방법
- 전개 구문 = 값을 펼쳐주는 구문
```js
fruits = ["apple", "banana", "grape"]

console.log(fruits) // (3)['apple', 'banana', 'grape'] 0:apple ... length: 3 
console.log(...fruits) // apple banana grape
```
- `...` 기호를 사용하면 **배열에 있는 값만을 꺼내 펼쳐 보여준다.**

### 나머지 매개변수
- 전개 구문은 함수를 선언할 때 사용할 수도 있다.
- 함수를 선언하면서 몇 개의 인수를 받게 될지 모르는 상황이 있는데 이 때 전개 구문을 사용해 매개변수를 만든다.
```js
function addNum(a, b) {
	return a + b;
}

addNum(1, 3); // 4
addNum(1, 3, 5, 7); // 4
```
- 아래의 경우 앞의 2개만 사용하고 나머지는 버린다.
- `addNum()`에서 인수로 받는 값을 모두 더하도록 구현하고 싶다면, **전개 구문을 사용해 매개변수를 하나의 이름으로 선언해야 한다.**

```js
function addNum(...numbers) {
	let sum = 0;

	for (let number of numbers) {
		sum += number;
	}
	return sum;
}

console.log(addNum(1, 3)); // 4
console.log(addNum(1, 3, 5, 7)); // 16
```

- 인수의 일부를 변수로, 그 외의 나머지를 묶는 방법도 있다.
```js
function displayFavorites(first, ...favs){
	let str = `${first}`
	return str;
}
```
> - 나머지로 오는 매개변수는 반드시 마지막에 온다는 것만 유의하자.

### 예제
```js
const user = ["His", "name", "is", "hong"]

console.log(user) // ["His", "name", "is", "hong"]
console.log(...user) // His name is hong
```

## 타이머 함수
- 자바스크립트에는 특정 시간이 되었을 때  함수를 실행하거나 특정 시간 동안 함수를 반복하기 위해 시간을 재는 함수가 있다. 이를 `타이머 함수Timer Function`라고 한다. 
- **실행할 함수와 시간**을 지정하며, 타이머 함수에 실행할 함수를 인자로 받기 때문에 **콜백 함수**를 매개변수로 사용한다.

### setInterval() : 일정 시간마다 반복
- 시간은 `ms` 단위.
```js
setInterval(콜백 함수, 시간)
```

- 2초마다 인삿말 표시하기
```js
function greeting() {
	console.log("안녕하세요?");
}

setInterval(greeting, 2000);

// 이렇게 가도 됨
setInterval(() => {
	console.log("안녕하세요?");
}, 2000);
```

### clearInterval() : 반복 멈추기
- `setInterval()`은 **한 번 실행하면 웹 브라우저를 종료하기 전에는 문서를 새로고침하거나 다른 페이지로 이동해도 계속 실행**된다.
```js
clearInterval(타이머)
```

- 이 경우, `setInterval()`로 지정한 함수를 변수(타이머)로 저장한 뒤 넣으면 된다.
```js
let counter = 0;

let timer = setInterval(() >=
	   console.log("안녕하세요?")
	   counter++;
	   if (counter === 5){
			clearInterval(timer); 
			}, 
		2000);
```
> 이렇게 작성해서 뭔가 헷갈리지만, 결국 `() ~ }`부분까지는 콜백 함수라서 따로 선언한 뒤 넣었다고 생각해도 된다. `timer`가 외부에서 선언되는데 내부에서 쓸 수 있는가라는 생각이 딱 들었음.
### setTimeout() : 특정 시간 이후에 실행하기
- 지정한 시간이 지난 후에 콜백 함수를 실행한다.
- 시간의 단위는 마찬가지로 `ms`
```
setTimeout(콜백 함수, 시간)
```

## 마무리 문제
- 사용자가 프롬프트 창에 숫자 입력 시 그 숫자를 함수로 넘겨주고, 함수에서는 숫자가 양수인지 음수인지 0인지 판단해서 알림창에 보여주시오
```js
function judge(){
    let isValid = false
    while (!isValid){
        inputNumber = parseInt(prompt("정수를 입력하세요"));

        if(inputNumber === 0) {
            alert('0입니다.')
            isValid = true
        }
        else if (inputNumber % 2 === 0){
            alert("짝수입니다.")
            isValid = true
        }
        else if (inputNumber % 2 === 1){
            alert("홀수입니다.")
            isValid = true
        }
        else{
            alert("다시 입력해주세요.")
        }
    }
}

judge()
```
> 1. 개인적으로 **원하는 형식의 인풋이 아닌 경우 다시 입력을 받게 하고 싶었는데, 변수 선언을 함수 내의 반복문에서 하면 되는 것**이었다.
> 2. 변수 선언 시 앞에 `let`을 붙이지 않으면 기본적으로 전역으로 선언된다(`4.2 스코프` 참조). 꼭 빼먹지 말고 붙일 것.