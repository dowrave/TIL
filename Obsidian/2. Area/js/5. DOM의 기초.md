
## DOM과 DOM 트리
- `문서 객체 모델Document Object Model`은 웹 브라우저에서 웹 문서를 분석하고 인식할 때 필요한 가장 기본적인 개념이다.

### DOM
- 웹에서 JS를 사용하는 가장 큰 이유는, **어떤 조건에 맞거나 사용자 동작이 있을 때 웹 문서 전체 또는 일부가 동적으로 반응**하기 때문이다. 이를 위해선 **웹 문서의 모든 요소를 따로 제어**할 수 있어야 한다.
- DOM이란, 자바스크립트 같은 **프로그래밍 언어로 웹 문서에 접근하고 제어할 수 있도록 웹 문서를 체계적으로 정리하는 방법**을 말한다.
	- 웹 문서 전체 : `document` 객체
	- 이미지 : `image` 객체
- 이렇게 웹 문서와 그 안의 요소를 객체로 인식하고 조절하므로 `문서 객체 모델`이라고 하며, 각 `객체`는 `프로퍼티`와 `메서드`를 갖는다.

### DOM 트리
- 웹 문서는 여러 태그가 서로 포함 관계를 가진다. 부모 태그와 자식 태그를 의미함.
- 이러한 부모 - 자식 태그를 위아래로 쭉 나열하면 `트리`모양이 된다. DOM은 이러한 **트리 구조를 통해 웹 문서를 해석**한다.

## 웹 요소에 접근하기
- `웹 요소` : 웹 문서에 있는 이미지, 텍스트, 표 등 특정 요소를 찾아가는 것.

### querySelector()
- CSS 선택자를 사용해 웹 요소를 포착한다.

| CSS 선택자 | 기능                                             | 사용 예            |
| ------ | ------------------------------------------------ | ------------------ |
| 타입   | 특정 태그를 사용한 모든 요소                     | p { ... }          |
| class  | 클래스명을 사용하는 특정 부분                    | .accent {...}      |
| id     | id명을 사용하는 특정 부분                        | #container {...}   |
| 하위   | A 요소 하위의 모든 요소                          | form input { ... } |
| 자식   | A 요소의 하위에 있는 요소 중, 자식 레벨의 B 요소 | ul > li { ... }                   |

- 선택자를 사용해 웹 요소에 접근할 때는 `querySelector()` 함수를 사용한다. 이 함수들은 `document` 객체에 포함되어 있다.
```js
document.querySelector(선택자)

// ex) id = container
document.querySelector("#container")
```
- 동일한 요소가 여러 개 있다면, 그 중 1번째 요소만 가져온다.
- 여러 요소가 있더라도 특정 요소 아래에만 있다면, `하위 선택자`나 `자식 선택자`를 `선택자` 항목에 넣으면 된다.

### querySelectorAll()
- **`id`선택자를 제외한 다른 선택자들은, 문서에서 여러 번 사용 가능하다.**
- 여러 개의 요소를 가져올 때 사용한다.
```js
document.querySelectAll(선택자)

// 이렇게 가져온 요소들은 리스트로 저장된다.
document.querySelectAll(".user") // class = "user"
// NodeList(3) [p.user, p.user, p.user]

// 가져온 여러 요소 중 특정 요소에만 접근
document.querySelectAll(".user")[2]
```

> 참고 : `querySelector` 이전에는 `getElement`로 시작하는 메서드를 사용했다.
> - `getElementById(id명)` : id 선택자 기준 접근
> - `getElementsByClassName(class명)` : class 선택자 기준 접근
> - `getElementsByTagName(태그명)` : 태그 이름 기준 접근
> 아래 2개는 Element's' 인 것에 유의하자. 다른 코드를 봐도 `getElement`도 많이 사용하니 알아두는 게 좋다.


### 웹 요소의 내용을 가져와 수정하기
- HTML 파일을 만들고..
```html
<!-- js-content-1.html -->
<div id="desc">
    <p class="user">이름 : 도레미</p>
    <p class="user" style="display:none">주소 : somewhere</p>
    <p class="user" style="display:none">연락처 : 1234-5678</p>
</div>
```

- 해당 파일을 띄운 다음 **콘솔 창에서 접근**해본다.
	- 아래 2개의 `style = "display:none"`이므로 가장 위의 `이름 : 도레미`만 뜬다.

#### innerText
```js
document.querySelector("#desc").innerText // "이름 : 도레미"
```
>`innerText` : 웹 브라우저에 **보이는 내용만 가져온다.** `display:none`이므로 나머지는 가져오지 않으며, 공백이면 공백 1칸만 가져온다.


#### innerHTML
```js
document.querySelector("#desc").innerHTML
// <p class="user">이름 : 도레미</p> <p class="user" style="display:none">주소 : somewhere</p> <p class="user" style="display:none">연락처 : 1234-5678</p>
```
> `innerHTML` : `#desc` 요소 내의 태그와 내용을 함께 가져온다.


#### textContent
```js
document.querySelector('#desc').textContent
// '\n    이름 : 도레미\n    주소 : somewhere\n    연락처 : 1234-5678\n'
```
> `textContent` : 요소의 내용을 가져오되, **소스에 있는 대로 가져온다.**


#### 웹 요소의 내용 수정하기
```js
(웹 요소).[innerText, innerHTML, textContent 중 하나] = 내용
```

- 이미지의 경우
```js
(이미지 요소).src = 이미지 파일
```

- 예시) 제목을 클릭하면 제목을 바뀌게 하고 싶다
```js
title.onclick = function () {
	title.innerText = "프로필";
}

// 혹은
title.onclick = () => title.innerText = "프로필";
```

- 예시2) 미리 변수로 지정해놓을 수도 있음
```js
const title = document.querySelector("#title");

title.onclick = () => title.innerText("프로필");
```

## 자바스크립트로 스타일 수정하기

### CSS 속성에 접근하고 수정하기
```js
(웹 요소).style.(속성명)
```
- 속성명 예시
	- `color` : 글자색
	- `backgroundColor` : 배경색
		- `background-color` 같이 두 단어 이상으로 된 경우, `-`를 없애고 뒷 단어의 첫 글자를 대문자로 바꾸는 식으로 가져온다.

- ex) 제목 클릭 시 글자색과 배경색 바꾸기
```js
const title = document.querySelector("#title");

title.onclick = () => {
	title.style.backgroundColor = "black";
	title.style.color = "white";
}
```

### classList 프로퍼티
- 웹 요소에 2개 이상의 클래스 스타일을 적용할 수 있다. 이건 CSS에서 배워 오는 것.
```html
<!-- js-content-1.html 수정 -->
<p class="user clicked">이름 : 도레미 </p>
```
> 이 경우 `user` 클래스와 `clicked` 클래스 모두의 스타일이 적용된다.


- 자바스크립트는 클래스 스타일을 추가, 삭제하면서 다양한 효과를 만들 수 있는데, `classList` 프로퍼티가 그 역할을 한다.
- `classList`는 요소에 적용한 클래스 스타일을 모두 모아놓은 객체이다.
- 아까 작성한 `js-content-1.html`에서 콘솔 창에 아래의 명령어를 입력해보자.
```js
document.querySelector("#desc p").classList // p태그와 desc클래스의 클래스리스트

//DOMTokenList(2) ['user', 'clicked', value: 'user clicked'] 
```
> `querySelector()`이므로 1번째 원소만 가져온다.


### 클래스 스타일 추가하고 삭제하기
```js
요소.classList.add(클래스명)
요소.classList.remove(클래스명)
```

- 예시) `css/style.css`를 만든다.
```css
h1 {
    font-size: 2rem;
    margin-bottom: 20px;
}

.clicked {
        background-color: yellow;
        color: blue;
}
```

- 클래스 스타일을 아래처럼 추가한다.
```js
const title = document.querySelector("#user");

// 1번쨰로 class = title인 부분을 클릭하면, clicked 스타일이 활성화된다. 
title.onclick = () => {
	title.classList.add("clicked");
}
```
> 일단 클릭 관련 부분은 아직 배운 적이 없기 떄문에 이렇구나~ 하면 됨  
> 이것처럼 작성하면 HTML에 해당 클래스가 없어도 다른 클래스 태그를 붙일 수 있어 CSS를 적용할 수 있게 된다.


#### 클래스 스타일 찾기 `contains()`
- 특정 클래스 스타일이 있는지를 찾아준다.
```js
요소.classList.contains(클래스명)
```

```js
const title = document.querySelector("#title");

title.onclick = () => {
	if(!title.classList.contains("clicked")){
		title.classList.add("clicked");
	} else {
		title.classList.remove("clicked");
	}
}
```

#### 클래스 스타일 토글하기
```js
요소.classList.toggle(클래스명)
```

- 위에서 if 문으로 작성했던 것을 `toggle`로 간단히 바꿀 수 잇다.
```js
const title = document.querySelector("#title");

title.onclick = () => {
	title.classList.toggle("clicked");
}
```


#### 다크모드 예제 만들기
```css
.dark {
	background-color:#222;
	color:#eee;
}
`
```
```js
const bttn = document.querySelector("button");

bttn.onclick = function() {
	document.body.classList.toggle("dark"); // 버튼 클릭할 때마다 .dark 스타일을 토글한다.
}
```

## DOM에서 폼(form) 다루기

