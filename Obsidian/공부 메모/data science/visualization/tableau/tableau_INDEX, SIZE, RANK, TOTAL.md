#tableau_levelup 

- 새로운 특성 만들기
	1. `계산된 필드 만들기`
	2. **`마크 카드`의 아래 빈 공간 더블클릭하면 함수 입력 가능**

- 디테일(방향)을 변경하려면 **`측정값 - 해당 함수 우클릭 - 테이블 계산 편집`에서 수정**함
	- 참고) `마크`에서 만들어서 넣었지만, `마크에 있는 세부 속성 - 테이블 계산 편집`은 작동하지 않음!
## INDEX
- 위에서 `방법 2`로 `INDEX()`를 넣고, 테이블에 드래그앤 드랍 
- `INDEX()` : **위치에 따라 번호를 부여함**
	- 그 위치의 범위를 어떻게 지정할 것인가?
		- 기본 ) 각 ROW에 대해서만 적용되며, 다음 ROW로 넘어가면 초기화
			- `년, 분기`가 COL, `카테고리`가 ROW라면
			- 카테고리 `별로` 년, 분기 `에 대한` 인덱스를 넣어주세요라고 할 수 있음 

## SIZE
- 모든 셀의 끝 번호(=크기)를 넣어준 것
- 디폴트는 **`INDEX`와 동일하게 작동**함

## RANK
```tableau
RANK('1st Level calc')
// ex) RANK(SUM(['Quantity']))
```
- **집계 계산 결과에 따라 순위를 매긴다**
- 이것도 Table Level Calc. 이므로, 순위가 매겨지는 방향을 바꿀 수 있다. 

## TOTAL
```Tableau
TOTAL(집계된 계산)
```
- **지정된 범위 전체의 Agg Calc.의 합**

### INDEX vs RANK
> ex) Customer Name을 올리고, Order ID를 `마크 - 텍스트`에 올린뒤 `카운트(고유)`로 변경, 내림차순한 다음 `행`에 `INDEX()`추가, 불연속형으로 변경

- `Order ID`가 많은 순서대로 인덱스가 부여됨

> 이 상태에서 `행`에 `RANK(COUNTD([Order ID]))`추가하고 불연속형으로 변경

- 고유값의 수에 따라 순위가 매겨짐
- 이 때 정렬은 `RANK` 특성으로 묶인 것들에 대해서만 이뤄지게 됨
1. **INDEX는 정렬이 자유롭지만 RANK는 정렬이 자유롭지 않음**
2. **RANK는 화면에 띄우지 않은 특성에 대해서도 적용할 수 있음**
3. 동점자 처리 방식
	- INDEX()는 같은 값이 있을 수가 없지..?
	- `RANK()`는 같은 값이 생김 : 동일한 값은 동일한 순위로 매김
		- 물론 `RANK_UNIQUE()`를 줘서 같은 값이어도 다른 순위를 줄 수 있음
---
- 순위를 매기는 데는 `RANK()`를 쓰지만 `INDEX()`도 간단하기 때문에 많이 쓴다

- 오름차순 RANK(즉 낮은 값이 높은 순위)
```TABLEAU
RANK(-COUNTD[Order id])
```
	- `COUNT` 함수 앞에 `-`를 붙여주면 된다(기준이 되는 집계값을 뒤집으면 됨)

